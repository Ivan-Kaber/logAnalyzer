# Документация по использованию приложения для анализа логов
## Инструкция по использованию:
Для запуска приложения запустить в командной строке следующую команду:
```
java -jar target/analyzer-jar-with-dependencies.jar
 --path (путь к лог-файлу, обязательный параметр)
 --from (Дата начала сбора данных) 
 --to (Дата окончания сбора данных) 
 --format (формат вывода статистики) 
 --filter-field (поле для установки фильтра) 
 --filter-value (поле для установки значения)
```
например: ```java -jar target/analyzer-jar-with-dependencies.jar --path logs/*.txt --from 2024-08-31 --format markdown```

## Описание параметров и допустимые значения:
- **--path**: путь к одному или нескольким NGINX лог-файлам в виде локального шаблона или URL.
Файлы должны располагаться в директории ``src/main/resources/logs``

Примеры: `logs/**/*.txt`, `logs/*.txt`, `logs/*`, `logs/log2.txt`, 
`https://raw.githubusercontent.com/elastic/examples/master/Common%20Data%20Formats/nginx_logs/nginx_logs`.

- **--from**: дата начала сбора данных в формате `yyyy-MM-dd`.

Например: `2024-08-31`, `2020-01-01`
В случае отсутствия параметра, ограничения на нижнюю временную границу не накладываются.

- **--to**: дата окончания сбора данных в формате `yyyy-MM-dd`.

Например: `2024-08-31`, `2020-01-01`. 
В случае отсутствия параметра, ограничения на верхнюю временную границу не накладываются.

- **--format**: формат вывода статистики варианты: `markdown` , `adoc`.

Допустимые значения: `markdown`, `adoc`.
В случае отсутствия параметра, формат вывода статистики по умолчанию - `markdown`.

- **--filter-field**: поле для установки типа фильтра.

Допустимые значения: `address`, `method`, `status`, `agent`.
В случае отсутствия параметра фильтрация не производится.

- **--filter-value**: поле для установки значения фильтра.

Например: `addres` - `192.168.0.1`; `method` - `GET`; `status` - `200`; `agent` - `Mozilla`.


## Подсчитываемая статистика:
- Имена файлов или URL из которых были получены логи
- Начальная дата
- Конечная дата
- Количество запросов
- Средний размер ответа
- 95p размера ответа
- Количество уникальных адресов(Дополнительная статистика)


- Запрашиваемые ресурсы и их количество
- Коды ответов, текстовое представление и их количество
- Типы запросов и их количество(Дополнительная статистика)



## Расположение файлов со статистикой:
После каждого вызова программы, в консоль будет выводиться путь до полученного файла со статистикой, 
по умолчанию, такие файлы находятся в `./src/main/resources/statistics`. Если файлы отсутствуют
в данной папке, они появятся после первого вызова программы(с учетом выбранного формата).
Если файлы уже существуют в данной папке, они будут перезаписаны.
